<!DOCTYPE html>
<html lang="ro">
<head>
  <meta charset="UTF-8">
  <title>Sistem Securitate</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="container">
  <h1>ğŸ” Sistem Securitate</h1>

  <div id="status" class="safe">
    ğŸŸ¢ ZonÄƒ sigurÄƒ
  </div>

  <div class="log">
    <h3>ğŸ“œ Istoric</h3>
    <ul id="history"></ul>
  </div>
</div>

<script>
  const statusDiv = document.getElementById("status");
  const history = document.getElementById("history");

  const ws = new WebSocket("ws://localhost:8080");

  ws.onopen = () => console.log("WS conectat");

  ws.onmessage = (event) => {
    const msg = event.data;
    const time = new Date().toLocaleTimeString();

    const li = document.createElement("li");
    li.textContent = `[${time}] ${msg}`;
    history.prepend(li);

    if (msg === "DETECTED") {
      statusDiv.textContent = "ğŸš¨ MIÈ˜CARE DETECTATÄ‚";
      statusDiv.className = "alert";
    } else {
      statusDiv.textContent = "ğŸŸ¢ ZonÄƒ sigurÄƒ";
      statusDiv.className = "safe";
    }
  };
</script>

</body>
</html>
